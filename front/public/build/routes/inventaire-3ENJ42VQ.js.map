{
  "version": 3,
  "sources": ["../../../app/components/carteStock.jsx", "../../../app/routes/inventaire.jsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\components\\\\\\\\carteStock.jsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\components\\\\carteStock.jsx\");\n}\n// REMIX HMR END\n\nimport styles from \"../styles/styles.css\";\nexport default function CarteStock(props) {\n  return <div className=\"max-w-sm  rounded-xl overflow-hidden shadow-lg p-10 m-10 border border-black min-w-max flex flex-col gap-3\">\r\n            <h1 className=\"font-bold text-xl mb-2 text-center\">{props.nom}</h1>\r\n            <p>Quantit\u00E9 : {props.quantite}</p>\r\n            <p>Valeur : {props.valeur}\u20AC</p>\r\n        </div>;\n}\n_c = CarteStock;\nexport const links = () => [{\n  rel: \"stylesheet\",\n  href: styles\n}];\nvar _c;\n$RefreshReg$(_c, \"CarteStock\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;", "// REMIX HMR BEGIN\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\nimport.meta.hot = __hmr__.createHotContext(\n//@ts-expect-error\n\"app\\\\routes\\\\inventaire.jsx\"\n);\nimport.meta.hot.lastModified = \"1709250331894.3293\";\n}\n// REMIX HMR END\n\nimport CarteStock from \"../components/carteStock\"\r\nimport axios from \"axios\"\r\nimport { useLoaderData } from \"@remix-run/react\"\r\nimport { redirect } from \"@remix-run/node\"\r\nimport { Form } from \"@remix-run/react\"\r\n\r\nexport async function loader({ request  }) {\r\n    const searchParams = new URLSearchParams(request.url.split('?')[1]);\r\n    const search = searchParams.get('search');\r\n    if (!search) {\r\n        try {\r\n            const response = await axios.get(\r\n                \"http://localhost:8000/api/articles/\"\r\n            )\r\n            return response.data\r\n        } catch (error) {\r\n            return {\r\n                error: error.message,\r\n            }\r\n        }\r\n    } else {\r\n        try {\r\n            const response = await axios({\r\n                method: 'get',\r\n                url: \"http://localhost:8000/api/articles/search/\",\r\n                data: {\r\n                    query: search,\r\n                }\r\n            })\r\n\r\n            return response.data\r\n        } catch (error) {\r\n            return {\r\n                error: error.message,\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default function inventaire() {\r\n    const data = useLoaderData()\r\n    \r\n    if (data.error) {\r\n        return <div>Une erreur s'est produite : {data.error}</div>;\r\n    }\r\n\r\n    // V\u00E9rifier si data est un tableau\r\n    if (!Array.isArray(data)) {\r\n        return <div>Donn\u00E9es invalides.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full \">\r\n            <Form method=\"post\">\r\n                <div className=\" flex justify-center flex-row items-center\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Rechercher un stock\"\r\n                        name=\"search\"\r\n                        className=\"border border-black rounded-lg p-2 my-10  w-1/3\"\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\" m-3  text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800\"\r\n                    >\r\n                        Rechercher\r\n                    </button>\r\n                </div>\r\n            </Form>\r\n            <div className=\"grid sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6\">\r\n                {data.map((stock) => (\r\n                    <CarteStock\r\n                        key={stock._id}\r\n                        nom={stock.designation}\r\n                        quantite={stock.quantite}\r\n                        valeur={stock.prix_unitaire}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport async function action({ request }) {\r\n    console.log(\"test\")\r\n    const formData = await request.formData()\r\n    const search = formData.get(\"search\")\r\n    return redirect(`/inventaire${search ? `?search=${search}` : ''}`);\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAsBY;AArBZ,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,0CAA4C,EAAE;AAAA,EACvF;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAON,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAAiC;AACnC;AAIe,SAAR,WAA4B,OAAO;AACxC,SAAO,mDAAC,SAAI,WAAU,8GACZ;AAAA,uDAAC,QAAG,WAAU,sCAAsC,gBAAM,OAA1D;AAAA;AAAA;AAAA;AAAA,WAA8D;AAAA,IAC9D,mDAAC,OAAE;AAAA;AAAA,MAAY,MAAM;AAAA,SAArB;AAAA;AAAA;AAAA;AAAA,WAA8B;AAAA,IAC9B,mDAAC,OAAE;AAAA;AAAA,MAAU,MAAM;AAAA,MAAO;AAAA,SAA1B;AAAA;AAAA;AAAA;AAAA,WAA2B;AAAA,OAH9B;AAAA;AAAA;AAAA;AAAA,SAID;AACR;AACA,KAAK;AAKL,IAAI;AACJ,aAAa,IAAI,YAAY;AAE7B,OAAO,eAAe;AACtB,OAAO,eAAe;;;ACtBtB,kBAAyB;AAwCV,IAAAA,0BAAA;AApDf,IAAI,aAAa;AACjB,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EACA;AACA,cAAY,IAAI,eAAe;AAC/B;AA0Ce,SAAR,aAA8B;AACjC,QAAM,OAAO,cAAc;AAE3B,MAAI,KAAK,OAAO;AACZ,WAAO,oDAAC,SAAI;AAAA;AAAA,MAA6B,KAAK;AAAA,SAAvC;AAAA;AAAA;AAAA;AAAA,WAA6C;AAAA,EACxD;AAGA,MAAI,CAAC,MAAM,QAAQ,IAAI,GAAG;AACtB,WAAO,oDAAC,SAAI,qCAAL;AAAA;AAAA;AAAA;AAAA,WAAuB;AAAA,EAClC;AAEA,SACI,oDAAC,SAAI,WAAU,yBACX;AAAA,wDAAC,QAAK,QAAO,QACT,8DAAC,SAAI,WAAU,8CACX;AAAA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,MAAK;AAAA,UACL,WAAU;AAAA;AAAA,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,WAAU;AAAA,UACb;AAAA;AAAA,QAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA;AAAA,SAZJ;AAAA;AAAA;AAAA;AAAA,WAaA,KAdJ;AAAA;AAAA;AAAA;AAAA,WAeA;AAAA,IACA,oDAAC,SAAI,WAAU,oEACV,eAAK,IAAI,CAAC,UACP;AAAA,MAAC;AAAA;AAAA,QAEG,KAAK,MAAM;AAAA,QACX,UAAU,MAAM;AAAA,QAChB,QAAQ,MAAM;AAAA;AAAA,MAHT,MAAM;AAAA,MADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAKA,CACH,KARL;AAAA;AAAA;AAAA;AAAA,WASA;AAAA,OA1BJ;AAAA;AAAA;AAAA;AAAA,SA2BA;AAER;",
  "names": ["import_jsx_dev_runtime"]
}
